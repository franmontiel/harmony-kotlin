apply plugin: 'com.android.library'

android {
  compileSdkVersion rootProject.ext.android_compile_sdk_version
  buildToolsVersion rootProject.ext.android_build_tools_version

  lintOptions {
    abortOnError false
  }

  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_7
    targetCompatibility JavaVersion.VERSION_1_7
  }

  defaultConfig {
    minSdkVersion rootProject.ext.android_min_sdk_version
    targetSdkVersion rootProject.ext.android_target_sdk_version

    versionCode 1001

    vectorDrawables.useSupportLibrary = true
  }

  buildTypes {
    debug {
      buildConfigField "boolean", "DEBUG_JOB_MANAGER", "true"
      buildConfigField "long", "JOB_MANAGER_BACKGROUND_INTERVAL", "15" // minutes
      buildConfigField "long", "JOB_MANAGER_BACKGROUND_INTERVAL_FLEX", "15" // minutes
    }

    debugRelease {
      debuggable = true
      buildConfigField "boolean", "DEBUG_JOB_MANAGER", "true"
      buildConfigField "long", "JOB_MANAGER_BACKGROUND_INTERVAL", "15" // minutes
      buildConfigField "long", "JOB_MANAGER_BACKGROUND_INTERVAL_FLEX", "15" // minutes
    }

    release {
      buildConfigField "boolean", "DEBUG_JOB_MANAGER", "false"
      buildConfigField "long", "JOB_MANAGER_BACKGROUND_INTERVAL", "15" // minutes
      buildConfigField "long", "JOB_MANAGER_BACKGROUND_INTERVAL_FLEX", "15" // minutes
    }
  }

  buildTypes.all { buildType ->
    // Common constants values
    buildConfigField "String", "WORLDREADER_OAUTH_CLIENT_ID", '"worldreader"'
    buildConfigField "String", "WORLDREADER_OAUTH_CLIENT_SECRET", '"MGQUm2oNtyaHCBhV2J6YvLFmRRWZF4ry"'
  }
}

dependencies {
  api "com.android.support:appcompat-v7:$rootProject.ext.support_libraries_version"
  api "com.android.support:support-annotations:$rootProject.ext.support_libraries_version"
  api "com.android.support:recyclerview-v7:$rootProject.ext.support_libraries_version"
  api "com.android.support:cardview-v7:$rootProject.ext.support_libraries_version"
  api "com.android.support:design:$rootProject.ext.support_libraries_version"
  api "com.android.support.constraint:constraint-layout:$rootProject.ext.constraint_layout_version"

  api files('libs/wasabi.jar')

  api 'com.squareup.picasso:picasso:2.5.2'
  api 'com.jakewharton.picasso:picasso2-okhttp3-downloader:1.1.0'

  api 'com.sromku:simple-storage:1.2.0'

  implementation "com.google.guava:guava:$rootProject.ext.guava_version"
  api 'net.danlew:android.joda:2.9.9'
  api 'com.mobilejazz.logger:library:0.2-SNAPSHOT'

  // Dagger
  compile "com.google.dagger:dagger:$rootProject.ext.dagger_version"
  annotationProcessor "com.google.dagger:dagger-compiler:$rootProject.ext.dagger_version"
  api "javax.inject:javax.inject:1"

  api 'com.mobilejazz.vastra:library:1.1.0-SNAPSHOT'

  api 'com.pushtorefresh.storio:sqlite:1.11.0'
  api 'com.pushtorefresh.storio:sqlite-annotations:1.11.0'
  annotationProcessor 'com.pushtorefresh.storio:sqlite-annotations-processor:1.11.0'

  api('com.afollestad.material-dialogs:core:0.9.6.0@aar') { transitive = true }
  api('com.afollestad.material-dialogs:commons:0.9.6.0@aar') { transitive = true }

  implementation 'com.squareup.okhttp3:okhttp:3.9.0'
  api 'com.squareup.okhttp3:logging-interceptor:3.9.0'

  api 'com.squareup.retrofit2:retrofit:2.3.0'
  api 'com.squareup.retrofit2:converter-gson:2.3.0'
  api('com.squareup.retrofit2:converter-simplexml:2.3.0') {
    exclude module: 'stax-api'
    exclude module: 'stax'
    exclude module: 'xpp3'
  }
  api('org.simpleframework:simple-xml:2.7.1') {
    exclude module: 'stax'
    exclude module: 'stax-api'
    exclude module: 'xpp3'
  }

  api 'net.zetetic:android-database-sqlcipher:3.5.9'

  implementation 'org.javatuples:javatuples:1.2'

  implementation 'net.sourceforge.htmlcleaner:htmlcleaner:2.16'
  implementation 'com.osbcp.cssparser:cssparser:1.5'
  implementation 'org.codehaus.jedi:jedi-core:3.0.5'

  api 'com.scottyab:secure-preferences-lib:0.1.4'

  api 'com.evernote:android-job:1.1.12'

  api 'com.davemorrissey.labs:subsampling-scale-image-view:3.6.0'
  implementation 'com.bartoszlipinski:viewpropertyobjectanimator:1.4.5'

  api 'com.amazonaws:aws-android-sdk-core:2.6.+'
  api 'com.amazonaws:aws-android-sdk-pinpoint:2.6.+'

  compile 'com.facebook.network.connectionclass:connectionclass:1.0.1'

  implementation "com.squareup:javapoet:1.7.0"

  api 'me.zhanghai.android.systemuihelper:library:1.0.0'
  implementation 'com.github.aakira:expandable-layout:1.6.0@aar'
}
