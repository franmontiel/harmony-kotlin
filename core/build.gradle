apply plugin: 'com.android.library'
apply plugin: 'com.neenbedankt.android-apt'
apply from: 'buildsystem/dependencies.gradle'

android {
    def globalConfiguration = project.ext;

    compileSdkVersion globalConfiguration.androidCompileSdkVersion
    buildToolsVersion globalConfiguration.androidBuildToolsVersion

    lintOptions {
        abortOnError false
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_7
        targetCompatibility JavaVersion.VERSION_1_7
    }

    defaultConfig {
        minSdkVersion globalConfiguration.androidMinSdkVersion
        targetSdkVersion globalConfiguration.androidTargetSdkVersion

        versionCode 1001
    }
}

dependencies {
    def dependencies = project.ext.dependencies
    def testDependencies = project.ext.testDependencies

    compile dependencies.supportAnnotation
    compile dependencies.guava
    compile dependencies.logger
    compile dependencies.retrofit
    compile dependencies.javaxAnnotation
    compile dependencies.javaxinject
    compile dependencies.vastra
    compile dependencies.storio
    compile dependencies.storioAnnotation
    compile dependencies.storioAnnotationProcessor

    compile dependencies.retrofit2
    compile dependencies.retrofit2Gson
    compile(dependencies.retrofitSimpleXml) {
        exclude module: 'stax-api'
        exclude module: 'stax'
        exclude module: 'xpp3'
    }
    compile(dependencies.simplexml) {
        exclude module: 'stax'
        exclude module: 'stax-api'
        exclude module: 'xpp3'
    }

    compile 'com.scottyab:secure-preferences-lib:0.1.4'

    compile dependencies.sqlcipher

    testCompile testDependencies.hamcrest
    testCompile(testDependencies.junit) {
        exclude module: 'hamcrest-core'
    }
    testCompile testDependencies.mockito
    testCompile testDependencies.powermock
    testCompile testDependencies.powermockito
}
